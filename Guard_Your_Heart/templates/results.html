{% extends "layout.html" %} {% block cssblock %}
<link rel="stylesheet" type="text/css" href="../static/css/progressbar.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.0/css/all.css"
    integrity="sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ" crossorigin="anonymous">
{% endblock %} {% block content %}

{% block javascriptblock %}
<script type="text/javascript" src="../static/javascript/activity.js"></script>
{% endblock %}

<div class="jumbotron jumbotron-fluid mb-0 theme-box-light">
    <div class="container">
        <h1 class="display-3">Results</h1>
    </div>
</div>
<div class="container-fluid">
    <div class="container-md my-5 py-5 px-md-5 d-flex flex-column justify-content-center">
        <h1 class="display-4 pb-4 text-center">Cardivascular Disease Risk</h1>
        <div class="progress w-50 mx-auto">
            <div class="progress-bar theme-box-color bar" style="width:{{ data.res }}%">
            </div>
        </div>
        <div class="row w-50 mx-auto">
            <div class="col p-0 text-left">
                <p>Low</p>
            </div>
            <div class="col p-0 text-center">
                <p>Medium</p>
            </div>
            <div class="col p-0 text-right">
                <p>High</p>
            </div>
        </div>
    </div>
</div>

<div class="container-fluid theme-box-light">
    <div class="container-md my-5 py-5 px-md-5">
        <h1 class="display-4 pb-4 mb-5">
            Indicators
        </h1>
        <div class="row d-flex align-items-baseline flex-wrap">
            <div class="col-md-4 px-4">
                <div class="d-flex flex-column text-right">
                    <h3>Cholesterol</h3>
                    <p>Causes blockage in arteries</p>
                </div>
            </div>
            <div class="col-md-4 px-4">
                <div class="progress">
                    {% if data.indicator[0] == 0 %}
                        <div class="progress-bar theme-box-color bar" style="width:0%"></div>
                    {% elif data.cholestrol <=2 %} 
                        <div class="progress-bar theme-box-color bar" style="width:40%"></div>
                    {% else %}
                        <div class="progress-bar theme-box-color bar" style="width:100%"></div>
                    {% endif %}
                </div>
            </div>
            <div class="col-md-4 px-4">
                {% if data.indicator[0] == 0 %}
                    <i class="fas fa-question-circle d-inline pr-2" style="font-size:32px;"></i>
                    <p class="lead d-inline">Do not know</p>
                {% elif data.cholestrol <=2 %} 
                    <i class="fa fa-check d-inline pr-2" style="font-size:32px;"></i>
                    <p class="lead d-inline">Under Control</p>
                {% else %}
                    <i class="fas fa-exclamation-circle d-inline pr-2" style="font-size:32px;"></i>
                    <p class="lead d-inline">High</p>
                {% endif %}
            </div>
        </div>
        <div class="row d-flex align-items-baseline flex-wrap">
            <div class="col-md-4 px-4">
                <div class="d-flex flex-column text-right">
                    <h3>Sugar</h3>
                    <p>Causes blockage in arteries</p>
                </div>
            </div>
            <div class="col-md-4 px-4">
                <div class="progress">
                    {% if data.indicator[1] == 0 %}
                        <div class="progress-bar theme-box-color bar" style="width:0%"></div>
                    {% elif data.gluc <=2 %} 
                        <div class="progress-bar theme-box-color bar" style="width:40%"></div>
                    {% else %}
                        <div class="progress-bar theme-box-color bar" style="width:100%"></div>
                    {% endif %}
                </div>
            </div>
            <div class="col-md-4 px-4">
                {% if data.indicator[1] == 0 %}
                    <i class="fas fa-question-circle d-inline pr-2" style="font-size:32px;"></i>
                    <p class="lead d-inline">Do not know</p>
                {% elif data.gluc <=2 %} 
                    <i class="fa fa-check d-inline pr-2" style="font-size:32px;"></i>
                    <p class="lead d-inline">Under Control</p>
                {% else %}
                    <i class="fas fa-exclamation-circle d-inline pr-2" style="font-size:32px;"></i>
                    <p class="lead d-inline">High</p>
                {% endif %}
            </div>
        </div>
        <div class="row d-flex align-items-baseline flex-wrap">
            <div class="col-md-4 px-4">
                <div class="d-flex flex-column text-right">
                    <h3>Body Mass Index (BMI)</h3>
                    <p>Causes blockage in arteries</p>
                </div>
            </div>
            <div class="col-md-4 px-4">
                <div class="progress">
                    {% if data.bmi < 18.5 %} 
                        <div class="progress-bar theme-box-color bar" style="width:15%"></div>
                    {% elif data.bmi < 24.9 %} 
                        <div class="progress-bar theme-box-color bar" style="width:35%"></div>
                    {% elif data.bmi < 29.9 %} 
                        <div class="progress-bar theme-box-color bar" style="width:60%"></div>
                    {% else %}
                        <div class="progress-bar theme-box-color bar" style="width:90%"></div>
                    {% endif %}
                </div>
            </div>
            <div class="col-md-4 px-4">
                {% if data.bmi < 18.5 %} 
                    <i class="fa fa-exclamation-triangle d-inline pr-2" style="font-size:32px;"></18.5>
                    <p class="lead d-inline">Under Weight</p>
                {% elif data.bmi < 24.9 %} 
                    <i class="fa fa-check d-inline pr-2" style="font-size:32px;"></i>
                    <p class="lead d-inline">Normal Weight</p>
                {% elif data.bmi < 29.9 %} 
                    <i class="fa fa-exclamation-triangle d-inline pr-2" style="font-size:32px;"></i>
                    <p class="lead d-inline">Overweight</p>
                {% else %}
                    <i class="fa fa-exclamation-triangle d-inline pr-2" style="font-size:32px;"></i>
                    <p class="lead d-inline">Obese</p>
                {% endif %}
            </div>
        </div>
    </div>
</div>
</div>

<!-- show current activity -->
<div class="jumbotron jumbotron-fluid" style="background-color:whitesmoke">
    <form id="paForm" action="{{ url_for('PA') }}" method="POST">
        <div class="container" id="current_pa">
            <h1 class="display-4 pb-4">Your Current Activity</h1>
            <!-- heading-row -->
            <div class="row" id="row_heading">
                <div class="col-sm-6">
                    <h5>Activity</h5>
                </div>
                <div class="col-sm-2">
                    <h5>Minutes</h5>
                </div>
                <div class="col-sm-2">
                    <h5>Days per week</h5>
                </div>
                <div class="col-sm-2">
                    <h5>Activity intensity</h5>
                </div>
            </div>
        </div>
    </form>
</div>

<div class="container-fluid theme-box-light">
    <div class="container-md my-5 py-5 px-md-5">
        <h1 class="display-4 pb-4 mb-5">
            Personalised Life style
        </h1>
        <div class="row d-flex align-items-baseline flex-wrap">
            <div class="col">
                <div class="card" style="width: 18rem;">
                    <img src="../static/images/diet.jpg" class="card-img-top" alt="Diet">
                    <div class="card-body">
                        <h5 class="card-title">Diet</h5>
                        <p class="card-text">Healthy and Un-Healthy diet choices which can help you ... </p>
                        <a href="{{ url_for('diet')}}" class="btn btn-info">Read here</a>
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="card" style="width: 18rem;">
                    <img src="../static/images/pa2.jpeg" class="card-img-top" alt="PhysicalActivity">
                    <div class="card-body">
                        <h5 class="card-title">Physical Activity</h5>
                        <p class="card-text">Physical activities which and help you ...</p>
                        <!-- <a href="{{ url_for('PA')}}" class="btn btn-primary">Read here</a> -->
                        <button type="button" class="btn btn-info"
                            onclick="document.getElementById('paForm').submit()">Read here</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</div>

<script type="text/javascript">

    var current_pa = document.getElementById("current_pa");

    var actGet = "{{activity_entered}}";
    if (actGet.length == 2) {
        var row_heading = document.getElementById("row_heading");
        row_heading.style = "display:none"
        var msg = document.createElement("h3");
        msg.innerHTML = "You have not added any physical activities."
        var msg2 = document.createElement("h3");
        msg2.innerHTML = "Please visit the Physical Activity suggestions page."
        current_pa.appendChild(msg);
        current_pa.appendChild(msg2);
    }

    var light_time = 0;
    var moderate_time = 0;
    var vigorous_time = 0;

    var flag_duraion = 0;
    var days_total = 0;

    {% for activity_data in activity_entered %}
    var heading = "{{ activity_data.heading }}";
    var minutes = "{{ activity_data.minutes }}";
    var days = "{{ activity_data.daysperweek }}";
    var intensity = "{{ activity_data.intensity }}";
    // console.log("yyyy  "+intensity);

    var div_row = document.createElement("div");
    div_row.className = "row";

    // heading
    var div_heading = document.createElement("div");
    div_heading.className = "col-sm-6";
    var h5_heading = document.createElement("h5");
    h5_heading.innerHTML = heading;

    var input1 = document.createElement("input");
    input1.setAttribute("name", "activities");
    input1.type = "hidden";
    input1.value = heading;

    div_heading.appendChild(h5_heading);
    div_heading.appendChild(input1);

    // minutes
    var div_minutes = document.createElement("div");
    div_minutes.className = "col-sm-2";
    var h5_minutes = document.createElement("h5");
    h5_minutes.innerHTML = minutes;

    var input2 = document.createElement("input");
    input2.setAttribute("name", "minutes");
    input2.type = "hidden";
    input2.value = minutes;

    div_minutes.appendChild(h5_minutes);
    div_minutes.appendChild(input2);

    // days
    var div_days = document.createElement("div");
    div_days.className = "col-sm-2";
    var h5_days = document.createElement("h5");
    h5_days.innerHTML = days;

    var input3 = document.createElement("input");
    input3.setAttribute("name", "days");
    input3.type = "hidden";
    input3.value = days;

    div_days.appendChild(h5_days);
    div_days.appendChild(input3);

    // intensity
    var div_intensity = document.createElement("div");
    div_intensity.className = "col-sm-2";
    var h5_intensity = document.createElement("h5");
    h5_intensity.innerHTML = intensity;

    var input4 = document.createElement("input");
    input4.setAttribute("name", "intensity");
    input4.type = "hidden";
    input4.value = intensity;

    div_intensity.appendChild(h5_intensity);
    div_intensity.appendChild(input4);

    div_row.appendChild(div_heading);
    div_row.appendChild(div_minutes);
    div_row.appendChild(div_days);
    div_row.appendChild(div_intensity);

    current_pa.appendChild(div_row);

    {% endfor %}

</script>


{% endblock content %}